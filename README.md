# DistributedSystemsStudy

## paper
 https://lamport.azurewebsites.net/pubs/time-clocks.pdf

gpt 요약 - 논문 요약
```
다음은 Leslie Lamport의 고전 논문 **“Time, Clocks, and the Ordering of Events in a Distributed System”**(1978)에 대한 한국어 요약입니다. 이 논문은 분산 시스템에서의 **이벤트(event)** 간 순서를 정의하고, 이를 위해 **논리적 시계(logical clock)** 개념을 제안합니다.

---

## 1. 문제 제기와 동기
- **분산 시스템**에서 여러 프로세스는 물리적으로 다른 컴퓨터(노드)에서 독립적으로 동작합니다.
- 이 노드들은 서로 **메시지**를 교환하며 협력해야 하지만, 네트워크 지연과 노드 간 물리 시간의 차이 때문에 사건(이벤트)의 “순서”를 어떻게 정의하고 유지할지가 어려운 문제입니다.
- Lamport는 물리 시계가 불완전하거나 비동기화될 수 있으므로, **논리적인 기준**을 사용해 이벤트 간의 순서를 매기는 방법이 필요하다고 주장합니다.

---

## 2. “happened-before” 관계
- Lamport는 이벤트 간 **원인-결과(causality)** 관계를 정의하기 위해 “\(\rightarrow\)” 기호로 나타내는 **“happened-before”** 관계(발생 선후 관계)를 제안합니다.
  1. 한 프로세스 내에서 시간상 먼저 일어난 이벤트 \(a\)가 뒤에 일어난 이벤트 \(b\)보다 “앞서” (i.e., \(a \rightarrow b\)) 있다고 정의합니다.
  2. 어떤 프로세스 \(P\)에서 발생한 이벤트 \(a\)가 메시지 전송을 통해 다른 프로세스 \(Q\)의 이벤트 \(b\)에 영향을 주면(즉 \(a\)가 \(b\)를 야기했다면), \(a \rightarrow b\)로 정의합니다.
  3. 위 두 규칙을 **추론적**으로 확장하여, \(\rightarrow\) 관계가 전이적(transitive)인 것을 이용해 전체 분산 시스템에서 이벤트들의 순서를 정합니다.

- 이 관계는 물리 시간이 아닌 **논리적 인과관계**를 나타냅니다. 즉, 하나의 사건이 다른 사건에 영향을 줄 수 있는지 여부에 집중합니다.

---

## 3. 논리적 시계(Logical Clock)
- **논리적 시계**는 각 프로세스마다 하나씩 존재하며, 이벤트가 발생할 때마다 증가시키는 **카운터** 방식입니다.
- Lamport가 제안한 알고리즘 개요:
  1. **Local Event**: 프로세스 내 이벤트가 발생할 때마다, 해당 프로세스의 시계를 +1 증가시킵니다.
  2. **Send Event**: 메시지를 전송할 때, 메시지에 **현재 프로세스 시계값**을 담아서 보냅니다.
  3. **Receive Event**: 메시지를 수신하면, 수신 측 프로세스 시계값을 \(\max(\text{수신 측 시계값}, \text{메시지에 담긴 시계값}) + 1\)로 설정합니다.

- 이를 통해 **각 이벤트에 논리 시계값(타임스탬프)**을 할당할 수 있고, 시계값이 작은 이벤트가 원칙적으로 먼저 일어났다고 간주합니다(`\(L(a) < L(b) \implies a \rightarrow b\)`).

---

## 4. 전체 순서(Total Ordering)와 활용
- 논리 시계만으로는 어떤 이벤트들이 동시에 발생했는지(인과관계가 없음)를 표시할 수 있습니다. 예컨대 \(L(a) = L(b)\)인 상황입니다.
- Lamport는 이를 확장해, **동시에 발생한 이벤트**를 구별할 필요가 있을 경우, 프로세스 ID 등을 활용해 **토탈 오더링(total ordering)**을 정의할 수 있다고 설명합니다.
- 이 방법은 **분산 뮤텍스** 알고리즘, **분산 데이터베이스의 트랜잭션 순서 보장** 등 다양한 분산 시스템 문제를 해결하는 토대가 됩니다.

---

## 5. 시사점
1. **인과관계(causality) vs 물리 시간**
   - 논문은 실제 물리 시간을 정확히 맞추기 힘든 분산 환경에서, “인과관계”를 기준으로 이벤트 순서를 정의하는 것이 얼마나 중요한지 보여줍니다.
2. **개념적 단순성**
   - 단순한 카운터(논리적 시계)만으로도 분산 시스템에서 필수적인 동작을 충분히 설명하고 조율할 수 있다는 점이 큰 시사점을 줍니다.
3. **추가 연구의 시발점**
   - Lamport의 이 논문 이후, **Vector Clock**, **Matrix Clock**, **Version Vector** 등 더 정교한 논리 시계 구조가 발전하였습니다.

---

## 6. 결론
Lamport의 “Time, Clocks, and the Ordering of Events in a Distributed System”은 **분산 환경**에서 이벤트 간 순서를 정의하기 위한 **개념적 토대**를 마련한 역사적 논문입니다. 논리적 시계를 통해 인과관계를 유지하며, 이를 토대로 분산 시스템에서 동기화, 뮤텍스, 트랜잭션 일관성 등 핵심 문제를 해결할 수 있는 아이디어가 여기서 비롯되었습니다.

> **핵심 요점**:
> - 실제 물리 시간 대신, **인과관계**와 **논리적 시계**에 기반한 “이벤트 순서” 정의.
> - 분산 시스템 문제에서 “누가 먼저 발생했는가”를 간단한 알고리즘으로 해결.

이상이 논문의 전체적인 요지와 핵심 내용입니다. 추가적으로 특정 부분에 대한 자세한 해설이 필요하시다면 말씀해 주세요.
```

## 시작하기